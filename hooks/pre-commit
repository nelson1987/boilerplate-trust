#!/bin/sh
Color_Off='\033[0m'
Blue='\033[0;34m'
Green='\033[4;32m'
Red='\033[0;31m'
# # ğŸš€
# # ğŸ§™ğŸ¼â€â™‚ï¸
# # â³
# # ğŸ’š
# # ğŸ–¥ï¸
# # ğŸ³
echo -e "$Green\tğŸ’š Treasury Pre Commit $Color_Off"
echo -e "$Blue\tğŸ–¥ï¸ Build the Project $Color_Off"
dotnet build --configuration Release --interactive
rc=$?
if [[ $rc != 0 ]] ; then
	#echo -e "\tğŸš€This will pass"
	echo -e "$Red\tğŸ¤¦Build failedâŒ"
    echo ""
	echo $rc
	exit 1
fi

echo -e "$Blue\tâœ”ï¸ Execute Unit Tests $Color_Off"
dotnet test test

rc=$?
if [[ $rc != 0 ]] ; then
	#echo -e "\tğŸš€This will pass"
	echo -e "$Red\tğŸ¤¦Unit tests failedâŒ\t Erro: $rc $Color_Off"
    echo ""
	exit 1
fi

echo -e "$Blue\tğŸ§™ğŸ¼â€â™‚ï¸ Execute Benchmark Tests $Color_Off"
dotnet test test
rc=$?
if [[ $rc != 0 ]] ; then
	#echo -e "\tğŸš€This will pass"
	echo -e "$Red\tğŸ¤¦Benchmark tests failedâŒ\t Erro: $rc $Color_Off"
    echo ""
	exit 1
fi

echo -e "$Blue\tğŸ³ Execute Integration Tests $Color_Off"
dotnet test test/Treasury.Stock.AssetsManager.Tests.Integration
rc=$?
if [[ $rc != 0 ]] ; then
	#echo -e "\tğŸš€This will pass"
	echo -e "$Red\tğŸ¤¦Integration tests failedâŒ\t Erro: $rc $Color_Off"
    echo ""
	exit 1
fi
# # cd test
# # ls
# #dotnet test
echo -e "$Red\tğŸ¤¦This will unpass $Color_Off"
exit 1
#ğŸš€